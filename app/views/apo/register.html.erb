<% @title = "Register APO" %>
<div style="width:950px; background:white; margin-top:50px;margin-bottom:50px;padding-left:50px;padding-right:50px;"%>
<%
url_params={:controller => :apo, :action => :register}
if @object
	url_params[:id] = @object.pid
	url_params[:action] = :update
end
%>
<%= form_tag url_for(url_params), :id => 'apo_form' do%>

<br><div class="register-div">
	<label>Title</label><br>
	<input type="text" style="width:auto" size="40" id="title" name="title" value="<%=@object ? @object.mods_title : ''%>"></input>
	
</div>
<br><div class="register-div">
	<label>Agreement</label><br>
	<%=select_tag :agreement, options_for_select(agreement_options)%>
</div>
<br><div class="register-div">
	<label>Default Collections</label><br>
		<%= select_tag :collection, options_for_select(current_user.permitted_collections)%>
</div>
<br><div class="register-div">
	<label>Descriptive Metadata format</label><br>
		<%=select_tag :desc_md, options_for_select(options_for_desc_md, @object ? @object.desc_metadata_format : 'MODS')%>
</div>

<br><div class="register-div">
	<label>Roles</label><br>
	<p>These roles will govern access to all objects registered under this apo. Provide sunetIDs in the form of sunetid:person1 or workgroups in the form of dlss:groupname</p>
	<div class="register-label-div">Manager</div><input id="managers" name="managers" type="text" style="width:90%" value="<%= @object ? @managers.join(' ') : 'dlss:developers dlss:pmag-staff'%>"/><br>
	<p class="help" style="margin-left:60px;font-size:.8em">Able to make changes to objects including metadata and content</p>
	<div class="register-label-div">Viewer</div><input type="text" id="viewers" name="viewers" style="width:90%" value="<%= @object ? @viewers : ''%>"/>
	<p class="help" style="margin-left:60px;font-size:.8em">View only access to the object.</p>
</div>
<br><div class="register-div">
	<label>Use and Reproduction statement</label><br>
	<p>See <%=link_to 'here', 'https://consul.stanford.edu/display/APO/Sample+Access+Condition+statements', :target => "_blank"%> for sample Use and Reproduction statements.</p>
	<textarea style="width:95%;height:40px" rows="2" name="use" id="use"><%= if @object then @object.use_statement end%></textarea>
</div>
<br><div class="register-div">
	<label>Copyright statement</label><br>
	<p>See <%=link_to 'here', 'https://consul.stanford.edu/display/APO/Sample+Access+Condition+statements', :target => "_blank"%> for sample Copyright statements.</p>
	<textarea style="width:95%;height:40px" id='copyright' name="copyright"><%= if @object then @object.copyright_statement end%></textarea>
</div>
<br><div class="register-div">
	<label>Creative Commons license</label><br> 
		<%=select_tag :cc_license, options_for_select(creative_commons_options, @object ? @object.creative_commons_license : '')%>
</div>
<br><div class="register-div">
	<label>Default Object Rights</label><br>
		<%=select_tag :default_object_rights, options_for_select(default_rights_options, @object ? @object.default_rights : 'World' )%>
</div>
<br><div class="register-div">
	<label>Default workflow</label><br>
	<%=select_tag :workflow, options_for_select(workflow_options, 'digitizationWF')%>
</div>
<div style="border-top: 1px solid #CCC;padding: 8px 0px 12px;margin-top: 10px;width:95%">

<button id="register" name="register"><%=@object ? 'Update APO' : 'Register APO' %></button>
<%end%>
<%=button_to 'Cancel', '/'%>
</div>
